<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Radiación Solar en México - Paneles Solares</title>
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <header>
        <div class="container">
            <h1>Radiación Solar en México</h1>
            <p>¿Te conviene instalar paneles solares en tu casa?</p>
            <nav>
                <ul>
                    <li><a href="#intro">Introducción</a></li>
                    <li><a href="#benefits">Beneficios</a></li>
                    <li><a href="#savings">Calcula tu ahorro</a></li>
                    <li><a href="#map-section">Mapa</a></li>
                    <li><a href="#contact">Contacto</a></li>
                    <li><a href="calculos.html" target="_blank">Cálculos Estadísticos</a></li>
                    <li><a href="tareas.html" target="_blank">Tareas</a></li>
                    <li><a href="Algebra.html" target="_blank">Algebra</a></li> <!-- Nuevo botón Algebra -->
                </ul>
            </nav>
        </div>
    </header>

    <section id="intro" class="intro">
        <div class="container">
            <h2>¿Qué es la radiación solar?</h2>
            <p>La radiación solar es la energía emitida por el sol en forma de luz y calor. En México, contamos con un alto nivel de radiación solar, lo que hace que nuestro país sea ideal para aprovechar esta energía renovable.</p>

            <h3>Definición y ejemplos de energía solar</h3>
            <p>La definición de energía solar es la energía que proviene del Sol y que podemos captar gracias a la radiación solar. A menudo se utiliza el concepto de energía solar para referirse a la energía eléctrica o térmica que se obtiene utilizando la radiación solar. Esta fuente de energía representa la principal fuente energética en la Tierra. Debido a que es una fuente inagotable, se la considera una energía renovable.</p>

            <h4>Ejemplos de energía solar</h4>
            <p>Algunos ejemplos de energía solar son los siguientes:</p>
            <ul>
                <li><strong>Instalaciones con placas solares fotovoltaicas:</strong> Para generar energía eléctrica en viviendas, refugios de montaña, etc.</li>
                <li><strong>Centrales fotovoltaicas:</strong> Grandes extensiones de placas fotovoltaicas cuyo objetivo es generar electricidad para suministrar en la red eléctrica.</li>
                <li><strong>Coches solares:</strong> Convierten la radiación solar en electricidad para accionar un motor eléctrico.</li>
                <li><strong>Cocinas solares:</strong> Sistemas para concentrar la radiación en un punto y elevar la temperatura para cocinar.</li>
                <li><strong>Sistemas de calefacción:</strong> Utilizan energía solar térmica para calentar un fluido que se puede utilizar en un circuito de calefacción.</li>
                <li><strong>Climatización de piscinas:</strong> Aprovechan la energía solar para mantener la temperatura del agua.</li>
                <li><strong>Calculadoras:</strong> Algunos dispositivos electrónicos disponen de una pequeña placa solar para suministrar energía al circuito eléctrico.</li>
                <li><strong>Fotosíntesis:</strong> Proceso natural que utilizan las plantas para convertir la energía solar en energía química.</li>
            </ul>

            <h3>Tipos de energía solar</h3>
            <p>Existen tres tipos principales de energía solar:</p>
            <ul>
                <li><strong>Energía solar fotovoltaica:</strong> Las placas solares fotovoltaicas están compuestas por un material que, al incidir la radiación solar, liberan electrones y generan una corriente eléctrica.</li>
                <li><strong>Energía solar térmica:</strong> Aprovecha la capacidad calorífica del Sol para calentar un fluido que se puede utilizar para calefacción, agua caliente sanitaria o generar electricidad en centrales termosolares.</li>
                <li><strong>Energía solar pasiva:</strong> Técnica que aprovecha el calor solar sin utilizar recursos externos, como en la arquitectura bioclimática, donde se orientan las casas y ventanas para maximizar la radiación solar.</li>
            </ul>

            <h3>Obtención de energía solar</h3>
            <p>Desde un punto de vista físico, la energía solar se produce en el Sol mediante una sucesión de reacciones nucleares. Cuando esta energía llega a la Tierra, podemos aprovecharla de varias maneras:</p>
            <ul>
                <li><strong>Paneles solares con células fotovoltaicas:</strong> Convierten la radiación solar directamente en energía eléctrica.</li>
                <li><strong>Colectores solares:</strong> Transforman la radiación solar en energía térmica para calentar un fluido.</li>
                <li><strong>Energía solar pasiva:</strong> Aprovecha la radiación solar sin aportación energética externa, como en diseños arquitectónicos que maximizan la luz solar en invierno y la minimizan en verano.</li>
            </ul>

            <h3>Tipos de placas solares</h3>
            <p>El término "paneles solares" se usa para diferentes tecnologías:</p>
            <ul>
                <li><strong>Panel solar térmico:</strong> Utiliza rayos solares para calentar un líquido que se usa en sistemas de agua caliente sanitaria y calefacción.</li>
                <li><strong>Panel fotovoltaico:</strong> Explota propiedades de materiales semiconductores (como el silicio) para generar electricidad mediante el efecto fotovoltaico.</li>
                <li><strong>Panel solar de concentración:</strong> Utiliza espejos parabólicos para concentrar la radiación solar en un punto focal y alcanzar temperaturas muy elevadas.</li>
            </ul>

            <h3>Relación con otras energías renovables</h3>
            <p>La energía solar está relacionada con otras fuentes de energía renovable:</p>
            <ul>
                <li><strong>Energía eólica:</strong> Aprovecha la fuerza del viento, que se genera cuando el Sol calienta grandes volúmenes de aire.</li>
                <li><strong>Combustibles fósiles:</strong> Provienen de descompuestos orgánicos, que en gran parte fueron plantas que realizaban la fotosíntesis.</li>
                <li><strong>Energía hidráulica:</strong> Aprovecha la energía potencial del agua, cuyo ciclo depende de la radiación solar.</li>
                <li><strong>Energía de biomasa:</strong> Es fruto de la fotosíntesis de las plantas.</li>
            </ul>

            <p>Este tipo de energía renovable es una alternativa a los combustibles fósiles que no emite gases de efecto invernadero.</p>

            <img src="https://images.unsplash.com/photo-1613665813446-82a78c468a1d?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80" alt="Radiación Solar" class="section-image">
        </div>
    </section>

    <section id="benefits" class="benefits">
        <div class="container">
            <h2>Beneficios de los Paneles Solares</h2>
            
            <h3>Ahorro en tu factura de luz</h3>
            <p>
                Los paneles solares permiten generar tu propia electricidad a partir de la energía solar, lo que reduce considerablemente la cantidad de electricidad que necesitas comprar de la red eléctrica. A medida que tu sistema solar genera más energía, verás una disminución en el costo de tu factura mensual.
            </p>

            <h3>Energía limpia y renovable</h3>
            <p>
                La energía solar es una fuente renovable que no produce emisiones de gases de efecto invernadero ni contaminantes. Al optar por paneles solares, contribuyes a la lucha contra el cambio climático y a la preservación del medio ambiente.
            </p>

            <h3>Reducción de tu huella de carbono</h3>
            <p>
                Al usar energía solar, reduces la dependencia de fuentes de energía basadas en combustibles fósiles, lo que disminuye la cantidad de CO₂ emitido a la atmósfera. Cada kilovatio de energía solar que produces equivale a menos emisiones de carbono.
            </p>

            <h3>Incentivos fiscales y financiamientos disponibles</h3>
            <p>
                Muchos gobiernos ofrecen incentivos fiscales, subsidios y programas de financiamiento para promover el uso de energías renovables. Estos incentivos pueden cubrir una parte importante de la instalación inicial, haciendo que los paneles solares sean más accesibles para los consumidores.
            </p>

            <img src="https://images.unsplash.com/photo-1509391366360-2e959784a276?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80" alt="Paneles Solares" class="section-image">
        </div>
    </section>

    <section id="savings" class="savings">
        <div class="container">
            <h2>Calcula tu ahorro</h2>
            <p>Ingresa tu consumo mensual de electricidad (en kWh) para calcular cuánto podrías ahorrar con paneles solares:</p>
            <form id="savingsForm">
                <label for="consumo">Consumo mensual (kWh):</label>
                <input type="number" id="consumo" name="consumo" required>
                <button type="button" onclick="calcularAhorro()">Calcular Ahorro</button>
            </form>
            <p id="resultado" class="result"></p>
            <canvas id="ahorroChart"></canvas>
        </div>
    </section>

    <section id="map-section" class="map-section">
        <div class="container">
            <h2>Mapa de Radiación Solar</h2>
            <p>Selecciona un punto en el mapa para obtener información detallada.</p>
            <div id="map" style="height: 500px; width: 100%;"></div>
            <div id="info">
                <h3>Información del punto seleccionado:</h3>
                <p><strong>Coordenadas:</strong> <span id="coordenadas"></span></p>
                <p><strong>Altitud:</strong> <span id="altitud"></span></p>
                <p><strong>Radiación solar:</strong> <span id="radiacion"></span></p>
            </div>
        </div>
    </section>

    <section id="contact" class="contact">
        <div class="container">
            <h2>Contáctanos</h2>
            <p>¿Tienes dudas o quieres una cotización personalizada? ¡Escríbenos!</p>
            <form id="contactForm">
                <label for="name">Nombre:</label>
                <input type="text" id="name" name="name" required>
                <label for="email">Correo electrónico:</label>
                <input type="email" id="email" name="email" required>
                <label for="message">Mensaje:</label>
                <textarea id="message" name="message" rows="5" required></textarea>
                <button type="submit">Enviar</button>
            </form>
        </div>
    </section>

    <footer>
        <div class="container">
            <p>&copy; 2023 Radiación Solar en México. Todos los derechos reservados.</p>
        </div>
    </footer>

    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script>
        // Navegación suave
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                document.querySelector(this.getAttribute('href')).scrollIntoView({
                    behavior: 'smooth'
                });
            });
        });

        // Mapa interactivo con Leaflet
        let map;
        let marker;

        function initMap() {
            map = L.map('map').setView([23.6345, -102.5528], 5); // Centrado en México
            L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
                attribution: '© OpenStreetMap contributors'
            }).addTo(map);

            map.on('click', (e) => {
                const lat = e.latlng.lat;
                const lng = e.latlng.lng;

                document.getElementById('coordenadas').textContent = `${lat.toFixed(4)}, ${lng.toFixed(4)}`;

                obtenerAltitud(lat, lng);
                obtenerRadiacionSolar(lat, lng);

                if (marker) {
                    map.removeLayer(marker);
                }
                marker = L.marker([lat, lng]).addTo(map);
            });
        }

        // Función para obtener la altitud
        async function obtenerAltitud(lat, lng) {
            const url = `https://api.open-elevation.com/api/v1/lookup?locations=${lat},${lng}`;
            try {
                const response = await fetch(url);
                const data = await response.json();
                const altitud = data.results[0].elevation;
                document.getElementById('altitud').textContent = `${altitud.toFixed(2)} metros`;
            } catch (error) {
                console.error("Error al obtener la altitud:", error);
                document.getElementById('altitud').textContent = "No disponible";
            }
        }

        // Función para obtener la radiación solar usando Open-Meteo
        async function obtenerRadiacionSolar(lat, lng) {
            const url = `https://api.open-meteo.com/v1/forecast?latitude=${lat}&longitude=${lng}&hourly=direct_radiation&timezone=auto`;
            try {
                const response = await fetch(url);
                if (!response.ok) {
                    throw new Error(`Error en la solicitud: ${response.status} ${response.statusText}`);
                }
                const data = await response.json();

                if (data.hourly && data.hourly.direct_radiation) {
                    // Tomamos la radiación solar promedio de las últimas 24 horas
                    const radiacionData = data.hourly.direct_radiation;
                    const radiacionPromedio = (radiacionData.reduce((sum, value) => sum + value, 0) / radiacionData.length);
                    document.getElementById('radiacion').textContent = `${radiacionPromedio.toFixed(2)} W/m²`;
                } else {
                    throw new Error("Datos de radiación solar no disponibles");
                }
            } catch (error) {
                console.error("Error al obtener datos de radiación solar:", error);
                document.getElementById('radiacion').textContent = "No disponible";
            }
        }

        // Función para calcular el ahorro
        function calcularAhorro() {
            const consumo = parseFloat(document.getElementById('consumo').value);

            if (isNaN(consumo) || consumo <= 0) {
                alert("Por favor, ingresa un valor válido.");
                return;
            }

            const ahorroPorcentaje = 0.95;
            const ahorroMensual = consumo * ahorroPorcentaje;

            const resultado = document.getElementById('resultado');
            resultado.textContent = `Con paneles solares, podrías ahorrar aproximadamente ${ahorroMensual.toFixed(2)} kWh al mes.`;
            resultado.style.color = "#4CAF50";

            // Gráfico de ahorro mensual con Chart.js
            const ctx = document.getElementById('ahorroChart').getContext('2d');
            new Chart(ctx, {
                type: 'bar',
                data: {
                    labels: ['Enero', 'Febrero', 'Marzo', 'Abril', 'Mayo', 'Junio', 'Julio', 'Agosto', 'Septiembre', 'Octubre', 'Noviembre', 'Diciembre'],
                    datasets: [{
                        label: 'Ahorro mensual (kWh)',
                        data: Array.from({ length: 12 }, () => parseFloat((Math.random() * ahorroMensual).toFixed(2))),
                        backgroundColor: '#4CAF50',
                    }]
                },
                options: {
                    scales: {
                        y: {
                            beginAtZero: true
                        }
                    }
                }
            });
        }

        // Inicializar el mapa al cargar la página
        document.addEventListener('DOMContentLoaded', () => {
            initMap();
        });
    </script>
</body>
</html>